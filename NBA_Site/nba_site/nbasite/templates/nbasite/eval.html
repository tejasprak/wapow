{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
  <title>waPOW</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body class="bg-gray-800 font-sans leading-normal tracking-normal">
  <nav class="relative bg-gray-300 border-b-2 border-gray-400 text-gray-900">
    <div class="container mx-auto flex justify-center">
      <div class="relative block p-8 lg:p-6 text-xl text-blue-600 font-bold"><h1 class ="text-center text-5xl">waPOW </h1><h1 class="italic text-center text-lg font-bold"><b>W</b>eighted <b>A</b>ssessment of <b>P</b>layer c<b>O</b>ntribution to <b>W</b>inning</h1>
        <ul class="flex py-2 justify-center">
          <li class="flex-none mr-2">
            <a class="text-center block rounded py-2 px-4 bg-white hover:bg-blue-700 text-blue-500" href="../nbasite"> Home </a>
          </li>

          <li class="flex-none mr-2">
            <a class="text-center block  rounded bg-white hover:border-gray-200 bg-blue-500 text-white hover:bg-gray-200 py-2 px-4" href="eval"> Evaluation of Statistics </a>
          </li>
          <li class="flex-none mr-2">
            <a class="text-center block border border-white rounded bg-white hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4" href="calculate_rapm"> Adjusted Plus-Minus Calculation and Regularization </a>
          </li>
          <li class="flex-none mr-2">
            <a class="text-center block border border-white rounded bg-white hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4" href="undervalued"> Finding Undervalued Players</a>
          </li>
          <li class="flex-none mr-2 ">
            <a class="text-center block border border-white rounded bg-white hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4" href="rapm"> View Generated RAPM Data </a>
          </li>

        </ul>
      </div>
    </div>
  </nav>
  <h1 class="text-center text-white text-4xl pt-4"> Introduction </h1>
  <div class="grid grid-cols-1 gap-4 px-16 py-4">
    <div class="bg-indigo-800 text-white font-sans rounded-lg h-48">
      <p class="text-white text-xl px-16 py-6">As an avid NBA fan, it’s not uncommon that I question some front office decisions. There isn’t a chance that players like DeMar DeRozan, Russell Westbrook, and Andrew Wiggins are worth the money they were paid - right?  And players like Christian Wood are underpaid - right?<br><br> Championship teams benefit from signing players that vastly outperform their contracts. Some players might have a low market value, but high contribution to wins. Similarly, a player might have a high market value but minimal contribution to wins.</p>
    </div>
  </div>

  <h1 class="text-center text-white text-4xl pt-4"> Identifying Existing Statistics </h1>
  <div class="grid grid-cols-1 gap-4 px-16 py-4">
    <div class="bg-red-600   text-white font-sans rounded-lg h-128">
      <p class="text-yellow-200 text-xl px-16 pt-6 pb-2">Here are some existing statistics that attempt to quantify player contribution to winning:</p>
      <p class="text-yellow-200 text-sm px-32"> - Player Efficiency Rating (PER) by John Hollinger<br></p>
      <p class="text-yellow-200 text-sm px-32"> - Box Score Plus-Minus (BPM) by Daniel Myers<br></p>
      <p class="text-yellow-200 text-sm px-32"> - Value Over Replacement Player (VORP) by Keith Woolner<br></p>
      <p class="text-yellow-200 text-xl px-16 pt-2 pb-6">
        To evaluate the effectiveness of these statistics,  I will determine the correlation between each of these advanced statistics and winning for the 2019-20 season. This correlation will be visualized in a graph as well. Obviously, these are individual stats. Therefore, we must combine these statistics for each team and then run the correlation between the combined statistic and wins (as wins is a team statistic). Now, for every team, we have a winning percentage and a combined advanced statistic for the team. We can run a correlation between the two. Players under the minimum minute requirement for the season (mp<250) were assigned the league average for each statistic.
        <br><br>
        The code is available here. The gist of it is that for each season in question, I construct a DataFrame with each team as a row. The columns include the advanced stats and the number of wins that team achieved during the season. I create DataFrames like this for each season between 2015 and 2019, and merge them vertically. Correlation can be run easily from there using the pandas corr() function.

      </p>
    </div>
  </div>


  <h1 class="text-center text-white text-4xl pt-4"> The Correlations <br><br></h1>
  <img class="px-96" src="{% static 'css/correlation.png'%}">

  <h1 class="text-center text-white text-4xl pt-4"> Conclusion from Correlations </h1>
  <div class="grid grid-cols-1 gap-4 px-16 py-4">
    <div class="bg-indigo-800 text-white font-sans rounded-lg h-32">
      <p class="text-white text-xl px-16 py-6">Looking at this, we can clearly see that BPM and VORP are the most correlated with Win%. PER trails by a sizable amount to place fourth. Using this, we can see that using an adjusted plus/minus statistic is the way to go, as the box score statistic falls flat.</p>
    </div>
  </div>
</body>
